@model DashboardViewModel
@{
    ViewData["Title"] = "Dashboard";
}

<div class="homeSection-title">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
        <path
            d="M560-600q-17 0-28.5-11.5T520-640v-160q0-17 11.5-28.5T560-840h240q17 0 28.5 11.5T840-800v160q0 17-11.5 28.5T800-600H560ZM160-440q-17 0-28.5-11.5T120-480v-320q0-17 11.5-28.5T160-840h240q17 0 28.5 11.5T440-800v320q0 17-11.5 28.5T400-440H160Zm400 320q-17 0-28.5-11.5T520-160v-320q0-17 11.5-28.5T560-520h240q17 0 28.5 11.5T840-480v320q0 17-11.5 28.5T800-120H560Zm-400 0q-17 0-28.5-11.5T120-160v-160q0-17 11.5-28.5T160-360h240q17 0 28.5 11.5T440-320v160q0 17-11.5 28.5T400-120H160Z" />
    </svg>
    <h2>Dashboard</h2>
</div>

<section class="cont-section">
    <div class="cont-card">
        <div class="cont-info">
            <div class="info-ventas">
                <p>@Model.VentasHoy</p>
            </div>
            <div class="info-total">
                <p>Total: <span>$@Model.TotalVentasHoy.ToString("N0")</span> </p>
            </div>
        </div>
        <p>Ventas Hoy</p>
    </div>
    <div class="cont-card card-stock">
        <div class="cont-info">
            <div class="info-stock">
                <p>@Model.ProductosBajoStock</p>
                <p>Menos de 10 unidades</p>
            </div>
        </div>
        <p>Productos Bajo Stock</p>
    </div>
</section>

<div class="homeSection-title gestion">
    <h2>Gestión (Acciones Rápidas)</h2>
</div>

<section class="cont-section">
    <div class="contButton btn-newSale">
        <a asp-controller="Ventas" asp-action="Create" class="contButton--item">
            <svg xmlns=" http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="currentColor">
                <path
                    d="M200-80q-33 0-56.5-23.5T120-160v-480q0-33 23.5-56.5T200-720h80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720h80q33 0 56.5 23.5T840-640v480q0 33-23.5 56.5T760-80H200Zm160-640h240q0-50-35-85t-85-35q-50 0-85 35t-35 85Zm119 320q74 0 134-49t59-110q0-17-11-29t-28-12q-14 0-25 9t-16 27q-11 38-43 61t-70 23q-38 0-70.5-23T366-564q-5-19-15-27.5t-24-8.5q-17 0-28.5 12T287-559q0 61 59 110t133 49Z" />
            </svg>
            <p>Nueva Venta</p>
        </a>
    </div>

    <div class="contButton-group">
        <div class="contButton">
            <a asp-controller="Productos" asp-action="Create" class="contButton--item">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="currentColor">
                    <path
                        d="M440-91v-366L120-642v321q0 22 10.5 40t29.5 29L440-91Zm80 0 280-161q19-11 29.5-29t10.5-40v-321L520-457v366Zm159-550 118-69-277-159q-19-11-40-11t-40 11l-79 45 318 183ZM480-526l119-68-317-184-120 69 318 183Z" />
                </svg>
                <p>Nuevo Producto</p>
            </a>
        </div>
        <div class="contButton">
            <a asp-controller="Clientes" asp-action="Create" class="contButton--item">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="currentColor">
                    <path
                        d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-240v-32q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v32q0 33-23.5 56.5T720-160H240q-33 0-56.5-23.5T160-240Z" />
                </svg>
                <p>Nuevo Cliente</p>
            </a>
        </div>
    </div>
</section>

@if (Model.UltimasVentas.Any())
{
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h5>Últimas Ventas del Día</h5>
                </div>
                <div class="card-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Hora</th>
                                <th>Cliente</th>
                                <th>Total</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var venta in Model.UltimasVentas)
                            {
                                <tr>
                                    <td>@venta.FechaVenta.ToString("HH:mm")</td>
                                    <td>@venta.ClienteNombre</td>
                                    <td>$@venta.Total.ToString("N0")</td>
                                    <td>
                                        <a asp-controller="Ventas" asp-action="Details" asp-route-id="@venta.Id"
                                            class="btn btn-sm btn-primary">Ver</a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
}